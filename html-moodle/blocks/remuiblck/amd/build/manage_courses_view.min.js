define("block_remuiblck/manage_courses_view",["jquery","core/ajax","core/notification","core/templates","block_remuiblck/slick","block_remuiblck/jquery-toolbar"],(function($,ajax,Notification,Templates,toolbar){var SELECTORS_COURSES_LIST='[data-region="manage-courses-list"]',SELECTORS_COURSE_MENU='.coursemenubtn[data-region="managecourses"]',SELECTORS_PAGES="[data-region-pages]",PROMISES_GET_MANAGE_COURSES_LIST=function(type,perpage,currentpage){return ajax.call([{methodname:"block_remuiblck_get_manage_courses_list",args:{type:type,perpage:perpage,currentpage:currentpage}}])[0]},TEMPLATES_MANAGE_COURSES_LIST="block_remuiblck/manage_courses_list_items",extraData=function(courses){return courses.enrollink=M.cfg.wwwroot+"/user/index.php?id=",courses.enroltitle=M.util.get_string("enrolusers","core_enrol"),courses.graderreportlink=M.cfg.wwwroot+"/grade/report/grader/index.php?id=",courses.graderreporttitle=M.util.get_string("graderreport","core_grades"),courses.activityreportlink=M.cfg.wwwroot+"/report/outline/index.php?id=",courses.activityreporttitle=M.util.get_string("activityreport","moodle"),courses.editcourselink=M.cfg.wwwroot+"/course/edit.php?id=",courses.editcoursetitle=M.util.get_string("editcourse","theme_remui"),courses.coursereporttitle=M.util.get_string("coursereport","moodle"),courses.courseviewlink=M.cfg.wwwroot+"/course/view.php?id=",courses};return{init:function(root){},loadCourses:function(root){var perpageprefdata=$("#manage_courses .filters #perpage").attr("data-value"),type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"card",perpage=arguments.length>2&&void 0!==arguments[2]?arguments[2]:perpageprefdata,currentpage=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;PROMISES_GET_MANAGE_COURSES_LIST(type,perpage,currentpage).done((function(response){0!=response.courses.length&&((response=extraData(response))[type]=!0,$(root).find(SELECTORS_COURSES_LIST).data("currentpage",currentpage),$(root).find(SELECTORS_COURSES_LIST).data("totalcourses",response.totalcourses),$(root).find(SELECTORS_COURSES_LIST).data("totalpages",response.totalpages)),Templates.render(TEMPLATES_MANAGE_COURSES_LIST,response).done((function(html){$(root).find(SELECTORS_COURSES_LIST).html(html).attr("data-type",type),$(root).find(SELECTORS_PAGES).text(M.util.get_string("showingfromto","block_remuiblck",{start:response.start,to:response.end,total:response.totalcourses})),$(root).find(SELECTORS_COURSES_LIST).find(SELECTORS_COURSE_MENU).each((function(){$(this).toolbar({content:$(this).data("toolbar"),position:"bottom",style:"primary",event:"click",hideOnClick:!0}),$(this).on("toolbarItemClick",(function(e,el){el.href&&(window.location.href=el.href)}))}))})).fail(Notification.exception)})).fail(Notification.exception)}}}));

//# sourceMappingURL=manage_courses_view.min.js.map