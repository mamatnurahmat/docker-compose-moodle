{"version":3,"file":"enrolpage.min.js","sources":["../src/enrolpage.js"],"sourcesContent":["/* eslint-disable no-console */\n/* eslint-disable no-unused-vars */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @module     theme_remui/enrolpage\n * @copyright (c) 2023 WisdmLabs (https://wisdmlabs.com/)\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'core/ajax', 'core/templates', 'core/notification'], function($, Ajax, Templates, Notification) {\n    const linkcoursecontent = '#linkcoursecontent';\n    // Const activeloading = \".loading.active\";\n    const activeloadingpane = \".tab-pane.active.loading\";\n    const loadingnavlink = \".nav-link.loading\";\n    const tabpanearea = \".tab-pane-area\";\n    const displayException = (ex) => {\n        console.error(ex);\n    };\n\n    const activateContentLoading = (_thispane) => {\n        var serviceName = $(_thispane).attr(\"data-service\");\n        var templateName = $(_thispane).attr(\"data-template\");\n        if (serviceName) {\n            var autoservice = Ajax.call([{\n                methodname: serviceName,\n                args: {courseid: M.cfg.courseId}\n            }]);\n            autoservice[0].done(function(response) {\n                Templates.renderForPromise(templateName, response)\n                    .then(({html, js}) => {\n                        $(_thispane).find(tabpanearea).empty();\n                        Templates.appendNodeContents(_thispane, html, js);\n                        $('.nav-link[href=\"#' + $(_thispane).attr('id') + '\"]').removeClass('loading');\n                        $(_thispane).removeClass('loading');\n                    }).catch(ex => displayException(ex));\n            }).fail(Notification.exception);\n        }\n    };\n\n    return {\n        init: function() {\n            $(document).ready(function() {\n                activateContentLoading(activeloadingpane);\n                $(document).on('click', loadingnavlink, function() {\n                    var loadContentForPane = $(this).attr(\"href\");\n                    activateContentLoading(loadContentForPane);\n                });\n            });\n        }\n    };\n});\n"],"names":["define","$","Ajax","Templates","Notification","activateContentLoading","_thispane","serviceName","attr","templateName","call","methodname","args","courseid","M","cfg","courseId","done","response","renderForPromise","then","_ref","html","js","find","empty","appendNodeContents","removeClass","catch","ex","console","error","displayException","fail","exception","init","document","ready","on","loadContentForPane","this"],"mappings":";;;;;AAuBAA,+BAAO,CAAC,SAAU,YAAa,iBAAkB,sBAAsB,SAASC,EAAGC,KAAMC,UAAWC,oBAU1FC,uBAA0BC,gBACxBC,YAAcN,EAAEK,WAAWE,KAAK,gBAChCC,aAAeR,EAAEK,WAAWE,KAAK,iBACjCD,aACkBL,KAAKQ,KAAK,CAAC,CACzBC,WAAYJ,YACZK,KAAM,CAACC,SAAUC,EAAEC,IAAIC,aAEf,GAAGC,MAAK,SAASC,UACzBf,UAAUgB,iBAAiBV,aAAcS,UACpCE,MAAKC,WAACC,KAACA,KAADC,GAAOA,SACVtB,EAAEK,WAAWkB,KAhBb,kBAgB+BC,QAC/BtB,UAAUuB,mBAAmBpB,UAAWgB,KAAMC,IAC9CtB,EAAE,oBAAsBA,EAAEK,WAAWE,KAAK,MAAQ,MAAMmB,YAAY,WACpE1B,EAAEK,WAAWqB,YAAY,cAC1BC,OAAMC,IAnBCA,CAAAA,KACtBC,QAAQC,MAAMF,KAkBaG,CAAiBH,SACrCI,KAAK7B,aAAa8B,kBAItB,CACHC,KAAM,WACFlC,EAAEmC,UAAUC,OAAM,WACdhC,uBA9Bc,4BA+BdJ,EAAEmC,UAAUE,GAAG,QA9BJ,qBA8B6B,eAChCC,mBAAqBtC,EAAEuC,MAAMhC,KAAK,QACtCH,uBAAuBkC"}